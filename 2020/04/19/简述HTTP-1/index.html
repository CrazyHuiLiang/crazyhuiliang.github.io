<!DOCTYPE html><html lang="ch"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="description" content="技术笔记 前端开发"><title>编程小记</title><link rel="stylesheet" href="/styles/layout-bundle.css"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?3ee29108db650b60a69ef622a9cbefeb";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="编程小记" type="application/atom+xml"></head><body><div class="main"><link rel="stylesheet" href="/styles/post-bundle.css"><div class="post-page"><h1>简述HTTP(一)</h1><p class="create-time">发布时间：2020/04/19</p><article class="content"><h1 id="铺垫"><a href="#铺垫" class="headerlink" title="铺垫"></a>铺垫</h1><p>世界上的计算机设备从网络协议的角度可以分为两类，一类是被普罗大众使用的PC、手机，在网络中被称为客户端，另一类呢，就是站在软件背后，为众多客户端提供数据，提供服务的设备，被称为服务端。客户端与服务端借助网络协议进行通信，可以说网络协议是他们的信使，其中http协议在应用层协议中使用最为广泛，接下来用多篇短文简述一下http的内容，这是第一篇，从宏观的角度看一眼HTTP。</p><p>从技术角度来看网络存在的目的就一句话：分享资源。图片，视频，文本，网页等都是资源，同样打印机，摄像头等也算是资源，因特网上有非常多种资源，HTTP给每种想要通过Web传输的对象都打上了MIME类型（Multipurpose Internet Mail Extension, 多用途因特网邮件扩展）,MINE是一种文本标记，表示一种资源的类型和一个特定的子类型，中间由斜杠分割。例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">text/plain  表示普通的ASCII文本文档</span><br><span class="line">text/html   表示html</span><br><span class="line">image/jpeg  表示JPEG格式的图片</span><br><span class="line">application/vnd.ms-powerpoint  表示微软的PowerPoint演示文件</span><br></pre></td></tr></table></figure><p>每个资源都有一个名字，这样客户端就可以说明他们需要的资源是什么了，服务器资源名称被称为统一资源标识符（Uniform Resource Identifier, URI),URI就像邮政地址一样在全世界唯一标识一个资源，URI目前有两种形式：URL（统一资源定位符）和URN（统一资源名），所以我们常说的URL是URI的子集；目前使用最为广泛的是URL，URN现在还是一个实验中的方案。一个完整的URL格式是这样的：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;scheme&gt;://&lt;user&gt;:&lt;password&gt;@&lt;host&gt;:&lt;port&gt;/&lt;path&gt;;&lt;params&gt;?&lt;query&gt;#&lt;flag&gt;</span><br><span class="line"></span><br><span class="line">eg：https://www.17xueba.com/views/w/course_center/course.vpage</span><br></pre></td></tr></table></figure><p>还有一种简短的URL形式 - 相对URL</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">比如在 https://www.17xueba.com页面中有一个图片地址可以写成这样：</span><br><span class="line"></span><br><span class="line">&lt;img src=&quot;images/home.png&quot;&gt;</span><br></pre></td></tr></table></figure><p>相对URL是基于基础URL来计算出来的，基础URL可以显式的提供，也就是html中的BASE标签</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">比如https://www.17xueba.com的页面中有如下标签的话</span><br><span class="line">&lt;base href=&quot;https://www.17xueba.com/assets&quot; /&gt;</span><br><span class="line"></span><br><span class="line">基础URL就是https://www.17xueba.com/assets</span><br><span class="line"></span><br><span class="line">上面的例子中的图片完整地址就是 https://www.17xueba.com/assets/images/home.png</span><br></pre></td></tr></table></figure><p>在没有显式的提供基础URL时，基础URL就是当前文档所在的URL，上面例子中的图片地址就会是</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.17xueba.com/images/home.png</span><br></pre></td></tr></table></figure><h1 id="报文"><a href="#报文" class="headerlink" title="报文"></a>报文</h1><p>现在有了上面的铺垫可以说一下HTTP的数据格式了，我们把HTTP的数据包称为报文，一次完整的HTTP事务可以描述为客户端向服务器发送一条请求报文，服务器返回一个响应报文，HTTP报文都是纯文本，有三部分组成：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">起始行     ：请求报文的起始行是用于说明要做什么，响应报文中的起始行说明出现了什么情况</span><br><span class="line">头部信息   ：起始行后面有多个手部字段，用于更细致的描述报文的行为，每个字段包含一个名字和一个值，两者用:分割</span><br><span class="line"></span><br><span class="line">可选的数据 ：可选，可以包含要发给服务器的数据，或者服务器返回给客户端的数据</span><br></pre></td></tr></table></figure><p>报文格式分别是</p><table><thead><tr><th>请求报文</th><th>响应报文</th></tr></thead><tbody><tr><td>method request-url version</td><td>version status reason-phrase</td></tr><tr><td>headers</td><td>headers</td></tr><tr><td>entity-body</td><td>entity-body</td></tr></tbody></table><h4 id="举个栗子🌰"><a href="#举个栗子🌰" class="headerlink" title="举个栗子🌰"></a>举个栗子🌰</h4><p>访问一起学网校首页：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">请求报文是这样的</span><br><span class="line"></span><br><span class="line">GET /index.vpage HTTP/1.1</span><br><span class="line">Host: www.17xueba.com</span><br><span class="line">Accept: text/html</span><br><span class="line"></span><br><span class="line">通过起始行我们可以看到这个报文我们使用了GET方法，请求的地址是 /index.vpage ,使用的协议版本是HTTP/1.1, 通过头部信息我们知道访问的host是 www.17xueba.com， 希望接收 html 格式的数据，可以看到这里的Accept的值就是我们上面提到的MIME类型。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">响应报文是这样的</span><br><span class="line"></span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Date: Sun, 19 Apr 2020 13:03:07 GMT</span><br><span class="line">Content-Type: text/html; charset=UTF-8</span><br><span class="line">Content-Length: 11510</span><br><span class="line">Content-Encoding: gzip</span><br><span class="line"></span><br><span class="line">    &lt;!doctype html&gt;</span><br><span class="line">    &lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;一起学网校（同班同学都在学）&lt;/title&gt;</span><br><span class="line">			&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">			...</span><br><span class="line"></span><br><span class="line">通过起始行我们看到响应的报文使用的是HTTP/1.1版本， status 200代表请求成功，下面头部中分别说明了返回内容的MIME类型是html，内容长度有11510，一个空行后接着返回了响应体。</span><br></pre></td></tr></table></figure><h1 id="报文组成部分"><a href="#报文组成部分" class="headerlink" title="报文组成部分"></a>报文组成部分</h1><p>下面我们详细说一下报文的个组成部分都有什么东西</p><h3 id="method"><a href="#method" class="headerlink" title="method"></a>method</h3><p>上面例子中展示了一种请求方法GET，HTTP写一种有说明的方法有以下几种</p><table><thead><tr><th>方法</th><th>描述</th><th>是否包含主题</th></tr></thead><tbody><tr><td>GET</td><td>从服务器获取资源</td><td>否</td></tr><tr><td>HEAD</td><td>只从服务器获取资源的首部信息</td><td>否</td></tr><tr><td>POST</td><td>向服务器发送需要处理的数据</td><td>是</td></tr><tr><td>PUT</td><td>将请求的主体部分存储在服务器上</td><td>是</td></tr><tr><td>TRACE</td><td>对可能经过代理服务器传送到服务器上去的报文进行追踪</td><td>否</td></tr><tr><td>OPTIONS</td><td>查找服务器支持的的方法</td><td>否</td></tr><tr><td>DELETE</td><td>从服务器删除一份文档</td><td>否</td></tr></tbody></table><h3 id="version"><a href="#version" class="headerlink" title="version"></a>version</h3><p>HTTP&#x2F;0.9, 1991制定的版本，是一个有很多严重设计缺陷的版本，只支持GET方法，不支持MIME类型，各种HTTP首部，以及版本号</p><p>HTTP&#x2F;1.0，第一个广泛使用的版本，为HTTP添加了版本号，支持了MIME类型，支持了更多的请求方法</p><p>HTTP&#x2F;1.1,是当前使用的最广的版本，删除了一些不好的特性，明确了语义，引入重要的性能优化措施</p><p>HTTP&#x2F;2.0, 关注的是性能大幅优化</p><h3 id="status"><a href="#status" class="headerlink" title="status"></a>status</h3><p>状态使用3位数字的状态码来区分，目前状态码共有以下5类：</p><table><thead><tr><th>整体范围</th><th>已定义范围</th><th>分类</th></tr></thead><tbody><tr><td>100~199</td><td>100 ~ 101</td><td>信息提示</td></tr><tr><td>200~299</td><td>200 ~ 206</td><td>成功</td></tr><tr><td>300~399</td><td>300 ~ 305</td><td>重定向</td></tr><tr><td>400~499</td><td>400 ~ 415</td><td>客户端错误</td></tr><tr><td>500~599</td><td>500 ~ 505</td><td>服务器错误</td></tr></tbody></table><h3 id="headers"><a href="#headers" class="headerlink" title="headers"></a>headers</h3><p>首部分为以下几类</p><ul><li>通用首部：请求和响应都可以用的首部，比如 Date: Sun, 19 Apr 2020 13:06:11 GMT</li><li>请求首部：只有在请求报文中出现，比如 Accept: *</li><li>响应首部：只有在响应中出现，比如 Server: Tengine</li><li>实体首部：用于说明实体主体部分的数据类型，比如 Content-Type: text&#x2F;html; charset&#x3D;utf-8</li><li>扩展首部：自己随便加</li></ul><p>具体都有哪些首部就查文档吧，学习http的首部是学习http的重点，接下来分多篇来写吧。</p></article><p class="last-update">最后更新：2022/06/30</p></div><script src="/scripts/post-bundle.js"></script></div><footer class="site-footer"><section><p>欢迎交流</p><address>Email: <a href="mailto:crazyhuiliang@163.com">crazyhuiliang@163.com</a></address><address>Github: <a target="_blank" rel="noopener" href="https://github.com/CrazyHuiLiang">https://github.com/CrazyHuiLiang</a></address></section></footer></body></html>